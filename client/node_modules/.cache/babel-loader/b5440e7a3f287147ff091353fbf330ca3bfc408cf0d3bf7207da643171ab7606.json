{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{DeleteGroupModal,LeaveGroupModal}from'./Modal';import'./Groups.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Groups=()=>{const[groups,setGroups]=useState([]);const[groupName,setGroupName]=useState('');const[description,setDescription]=useState('');const[message,setMessage]=useState('');const[showModal,setShowModal]=useState(false);const[groupToDelete,setGroupToDelete]=useState(null);const[groupToLeave,setGroupToLeave]=useState(null);const[showLeaveModal,setShowLeaveModal]=useState(false);const[inviteCode,setInviteCode]=useState('');useEffect(()=>{// Fetch the list of groups the user is part of when the component loads\nfetchGroups();},[]);const navigate=useNavigate();// Function to fetch groups the user is part of\nconst fetchGroups=async()=>{const token=localStorage.getItem('token');try{const response=await axios.get('https://email.erwanthomy.fr:3113/groups',{headers:{Authorization:`Bearer ${token}`}});setGroups(response.data);// Update the state with the fetched groups\n}catch(error){if(error.response&&error.response.status===403){setMessage('Session expired. Please log in again.');localStorage.removeItem('token');navigate('/login');}else{setMessage('Failed to fetch group. Please try again.');}console.error('Error fetching group:',error);}};// Function to handle creating a new group\nconst handleCreateGroup=async e=>{e.preventDefault();const token=localStorage.getItem('token');if(!token){setMessage('You need to login to create a group.');return navigate('/login');}try{const response=await axios.post('https://email.erwanthomy.fr:3113/groups/create',{groupName,description},{headers:{Authorization:`Bearer ${token}`}});if(response.status===201){setMessage('Group created successfully!');setGroupName('');setDescription('');fetchGroups();// Refresh group list\n}}catch(error){if(error.response&&error.response.status===403){setMessage('Session expired. Please log in again.');localStorage.removeItem('token');navigate('/login');}else{setMessage('Failed to create group. Please try again.');}console.error('Error creating group:',error);}};// Function to handle joining a group with an invite code\nconst handleJoinGroup=async e=>{e.preventDefault();const token=localStorage.getItem('token');try{const response=await axios.post('https://email.erwanthomy.fr:3113/groups/join',{inviteCode},{headers:{Authorization:`Bearer ${token}`}});if(response.status===200){setMessage('Successfully joined the group!');setInviteCode('');fetchGroups();// Refresh the group list after joining a new group\n}}catch(error){if(error.response&&error.response.status===403){setMessage('Session expired. Please log in again.');localStorage.removeItem('token');navigate('/login');}else{var _error$response,_error$response$data;setMessage(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to join group. Please try again.');}console.error('Error joining group:',error);}};// Function to handle deleting a group\nconst handleDeleteGroup=async()=>{if(!groupToDelete)return;const token=localStorage.getItem('token');try{const response=await axios.delete(`https://email.erwanthomy.fr:3113/groups/${groupToDelete}`,{headers:{Authorization:`Bearer ${token}`}});if(response.status===200){setMessage('Group deleted successfully!');setGroupToDelete(null);setShowModal(false);fetchGroups();// Refresh the group list after deleting a group\n}}catch(error){if(error.response&&error.response.status===403){setMessage('Session expired. Please log in again.');localStorage.removeItem('token');navigate('/login');}else{setMessage('Failed to delete group. Please try again.');}console.error('Error deleting group:',error);}};// Show the delete confirmation modal for the selected group\nconst confirmDeleteGroup=groupId=>{setGroupToDelete(groupId);setShowModal(true);};const handleLeaveGroup=async()=>{if(!groupToLeave)return;const token=localStorage.getItem('token');try{const response=await axios.post(`https://email.erwanthomy.fr:3113/groups/leave`,{groupId:groupToLeave},{headers:{Authorization:`Bearer ${token}`}});if(response.status===200){setMessage('You have left the group successfully.');setGroupToLeave(null);setShowLeaveModal(false);fetchGroups();// Refresh the group list after leaving the group\n}}catch(error){setMessage('Failed to leave the group. Please try again.');console.error('Error leaving group:',error);setShowLeaveModal(false);}};// Show the leave group confirmation modal\nconst confirmLeaveGroup=groupId=>{setGroupToLeave(groupId);setShowLeaveModal(true);};return/*#__PURE__*/_jsxs(\"div\",{className:\"groups-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"go-back\",onClick:()=>navigate('/dashboard'),children:\"Go back\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Groups\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateGroup,className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create a New Group\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Group Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:groupName,onChange:e=>setGroupName(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:description,onChange:e=>setDescription(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create Group\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleJoinGroup,className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Join a Group\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Invite Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inviteCode,onChange:e=>setInviteCode(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Join Group\"})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Your Groups\"}),groups.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"group-list\",children:groups.map(group=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"group-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"group-informations\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Group Name: \",group.group_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Group Description: \",group.description]})]}),group.is_admin&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Invite code: \",group.invite_code]})]}),group.is_admin?/*#__PURE__*/_jsx(\"button\",{onClick:()=>confirmDeleteGroup(group.group_id),className:\"delete-button\",children:\"Delete Group\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>confirmLeaveGroup(group.group_id),className:\"leave-button\",children:\"Leave Group\"})]},group.group_id))}):/*#__PURE__*/_jsx(\"p\",{children:\"You are not part of any groups yet.\"}),/*#__PURE__*/_jsx(DeleteGroupModal,{show:showModal,onClose:()=>setShowModal(false),onConfirm:handleDeleteGroup}),/*#__PURE__*/_jsx(LeaveGroupModal,{show:showLeaveModal,onClose:()=>setShowLeaveModal(false),onConfirm:handleLeaveGroup}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"message\",children:message})]});};export default Groups;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","DeleteGroupModal","LeaveGroupModal","jsx","_jsx","jsxs","_jsxs","Groups","groups","setGroups","groupName","setGroupName","description","setDescription","message","setMessage","showModal","setShowModal","groupToDelete","setGroupToDelete","groupToLeave","setGroupToLeave","showLeaveModal","setShowLeaveModal","inviteCode","setInviteCode","fetchGroups","navigate","token","localStorage","getItem","response","get","headers","Authorization","data","error","status","removeItem","console","handleCreateGroup","e","preventDefault","post","handleJoinGroup","_error$response","_error$response$data","handleDeleteGroup","delete","confirmDeleteGroup","groupId","handleLeaveGroup","confirmLeaveGroup","className","children","onClick","onSubmit","type","value","onChange","target","required","length","map","group","group_name","is_admin","invite_code","group_id","show","onClose","onConfirm"],"sources":["E:/Personnal/todolist.erwanthomy.fr/client/src/components/Groups.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { DeleteGroupModal, LeaveGroupModal } from './Modal';\r\nimport './Groups.css';\r\n\r\nconst Groups = () => {\r\n    const [groups, setGroups] = useState([]);\r\n    const [groupName, setGroupName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [groupToDelete, setGroupToDelete] = useState(null);\r\n    const [groupToLeave, setGroupToLeave] = useState(null);\r\n    const [showLeaveModal, setShowLeaveModal] = useState(false);\r\n    const [inviteCode, setInviteCode] = useState('');\r\n\r\n    useEffect(() => {\r\n        // Fetch the list of groups the user is part of when the component loads\r\n        fetchGroups();\r\n    }, []);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    // Function to fetch groups the user is part of\r\n    const fetchGroups = async () => {\r\n        const token = localStorage.getItem('token');\r\n        try {\r\n            const response = await axios.get('https://email.erwanthomy.fr:3113/groups', {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`,\r\n                },\r\n            });\r\n            setGroups(response.data); // Update the state with the fetched groups\r\n        } catch (error) {\r\n            if (error.response && error.response.status === 403) {\r\n                setMessage('Session expired. Please log in again.');\r\n                localStorage.removeItem('token');\r\n                navigate('/login');\r\n            } else {\r\n                setMessage('Failed to fetch group. Please try again.');\r\n            }\r\n            console.error('Error fetching group:', error);\r\n        }\r\n    };\r\n\r\n    // Function to handle creating a new group\r\n    const handleCreateGroup = async (e) => {\r\n        e.preventDefault();\r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n            setMessage('You need to login to create a group.');\r\n            return navigate('/login');\r\n        }\r\n\r\n        try {\r\n            const response = await axios.post(\r\n                'https://email.erwanthomy.fr:3113/groups/create',\r\n                { groupName, description },\r\n                {\r\n                    headers: {\r\n                        Authorization: `Bearer ${token}`,\r\n                    },\r\n                }\r\n            );\r\n\r\n            if (response.status === 201) {\r\n                setMessage('Group created successfully!');\r\n                setGroupName('');\r\n                setDescription('');\r\n                fetchGroups(); // Refresh group list\r\n            }\r\n        } catch (error) {\r\n            if (error.response && error.response.status === 403) {\r\n                setMessage('Session expired. Please log in again.');\r\n                localStorage.removeItem('token');\r\n                navigate('/login');\r\n            } else {\r\n                setMessage('Failed to create group. Please try again.');\r\n            }\r\n            console.error('Error creating group:', error);\r\n        }\r\n    };\r\n\r\n    // Function to handle joining a group with an invite code\r\n    const handleJoinGroup = async (e) => {\r\n        e.preventDefault();\r\n        const token = localStorage.getItem('token');\r\n\r\n        try {\r\n            const response = await axios.post(\r\n                'https://email.erwanthomy.fr:3113/groups/join',\r\n                { inviteCode },\r\n                {\r\n                    headers: {\r\n                        Authorization: `Bearer ${token}`,\r\n                    },\r\n                }\r\n            );\r\n\r\n            if (response.status === 200) {\r\n                setMessage('Successfully joined the group!');\r\n                setInviteCode('');\r\n                fetchGroups(); // Refresh the group list after joining a new group\r\n            }\r\n        } catch (error) {\r\n            if (error.response && error.response.status === 403) {\r\n                setMessage('Session expired. Please log in again.');\r\n                localStorage.removeItem('token');\r\n                navigate('/login');\r\n            } else {\r\n                setMessage(error.response?.data?.error || 'Failed to join group. Please try again.');\r\n            }\r\n            console.error('Error joining group:', error);\r\n        }\r\n    };\r\n\r\n    // Function to handle deleting a group\r\n    const handleDeleteGroup = async () => {\r\n        if (!groupToDelete) return;\r\n\r\n        const token = localStorage.getItem('token');\r\n        try {\r\n            const response = await axios.delete(`https://email.erwanthomy.fr:3113/groups/${groupToDelete}`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`,\r\n                },\r\n            });\r\n\r\n            if (response.status === 200) {\r\n                setMessage('Group deleted successfully!');\r\n                setGroupToDelete(null);\r\n                setShowModal(false);\r\n                fetchGroups(); // Refresh the group list after deleting a group\r\n            }\r\n        } catch (error) {\r\n            if (error.response && error.response.status === 403) {\r\n                setMessage('Session expired. Please log in again.');\r\n                localStorage.removeItem('token');\r\n                navigate('/login');\r\n            } else {\r\n                setMessage('Failed to delete group. Please try again.');\r\n            }\r\n            console.error('Error deleting group:', error);\r\n        }\r\n    };\r\n\r\n    // Show the delete confirmation modal for the selected group\r\n    const confirmDeleteGroup = (groupId) => {\r\n        setGroupToDelete(groupId);\r\n        setShowModal(true);\r\n    };\r\n\r\n    const handleLeaveGroup = async () => {\r\n        if (!groupToLeave) return;\r\n\r\n        const token = localStorage.getItem('token');\r\n        try {\r\n            const response = await axios.post(`https://email.erwanthomy.fr:3113/groups/leave`, { groupId: groupToLeave }, {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`,\r\n                },\r\n            });\r\n\r\n            if (response.status === 200) {\r\n                setMessage('You have left the group successfully.');\r\n                setGroupToLeave(null);\r\n                setShowLeaveModal(false);\r\n                fetchGroups(); // Refresh the group list after leaving the group\r\n            }\r\n        } catch (error) {\r\n            setMessage('Failed to leave the group. Please try again.');\r\n            console.error('Error leaving group:', error);\r\n            setShowLeaveModal(false);\r\n        }\r\n    };\r\n\r\n    // Show the leave group confirmation modal\r\n    const confirmLeaveGroup = (groupId) => {\r\n        setGroupToLeave(groupId);\r\n        setShowLeaveModal(true);\r\n    };\r\n\r\n    return (\r\n        <div className=\"groups-container\">\r\n            <button className='go-back' onClick={() => (navigate('/dashboard'))}>Go back</button>\r\n            <h2>Groups</h2>\r\n\r\n            {/* Create Group Form */}\r\n            <form onSubmit={handleCreateGroup} className=\"form-section\">\r\n                <h3>Create a New Group</h3>\r\n                <div className=\"form-group\">\r\n                    <label>Group Name</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={groupName}\r\n                        onChange={(e) => setGroupName(e.target.value)}\r\n                        required\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>Description</label>\r\n                    <textarea\r\n                        value={description}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        required\r\n                    />\r\n                </div>\r\n                <button type=\"submit\">Create Group</button>\r\n            </form>\r\n            {/* Join Group Form */}\r\n            <form onSubmit={handleJoinGroup} className=\"form-section\">\r\n                <h3>Join a Group</h3>\r\n                <div className=\"form-group\">\r\n                    <label>Invite Code</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={inviteCode}\r\n                        onChange={(e) => setInviteCode(e.target.value)}\r\n                        required\r\n                    />\r\n                </div>\r\n                <button type=\"submit\">Join Group</button>\r\n            </form>\r\n            {/* Display User's Groups */}\r\n            <h3>Your Groups</h3>\r\n            {groups.length > 0 ? (\r\n                <ul className=\"group-list\">\r\n                    {groups.map((group) => (\r\n                        <li key={group.group_id}>\r\n                            <div className=\"group-content\">\r\n                                <div className=\"group-informations\">\r\n                                    <h4>Group Name: {group.group_name}</h4>\r\n                                    <p>Group Description: {group.description}</p>\r\n                                </div>\r\n                                {group.is_admin && (\r\n                                    <p>Invite code: {group.invite_code}</p>\r\n                                )}\r\n                            </div>\r\n\r\n\r\n                            {group.is_admin ? (\r\n                                <button\r\n                                    onClick={() => confirmDeleteGroup(group.group_id)}\r\n                                    className=\"delete-button\"\r\n                                >\r\n                                    Delete Group\r\n                                </button>\r\n                            ) : (\r\n                                <button\r\n                                    onClick={() => confirmLeaveGroup(group.group_id)}\r\n                                    className=\"leave-button\"\r\n                                >\r\n                                    Leave Group\r\n                                </button>\r\n                            )}\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            ) : (\r\n                <p>You are not part of any groups yet.</p>\r\n            )}\r\n\r\n            {/* Confirmation Modal for Deleting a Group */}\r\n            <DeleteGroupModal\r\n                show={showModal}\r\n                onClose={() => setShowModal(false)}\r\n                onConfirm={handleDeleteGroup}\r\n            />\r\n\r\n            {/* Confirmation Modal for Leaving a Group */}\r\n            <LeaveGroupModal\r\n                show={showLeaveModal}\r\n                onClose={() => setShowLeaveModal(false)}\r\n                onConfirm={handleLeaveGroup}\r\n            />\r\n\r\n            {message && <p className=\"message\">{message}</p>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Groups;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}